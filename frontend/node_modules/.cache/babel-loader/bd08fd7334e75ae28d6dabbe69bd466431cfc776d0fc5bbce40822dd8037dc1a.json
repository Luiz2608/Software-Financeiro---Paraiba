{"ast":null,"code":"import axios from 'axios';\nconst getApiBaseUrl = () => {\n  if (process.env.REACT_APP_API_BASE) return process.env.REACT_APP_API_BASE;\n  if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {\n    // Se o frontend estiver em 3001, usar backend em 3002\n    if (window.location.port === '3001') return 'http://localhost:3002/api';\n    return 'http://localhost:3000/api';\n  }\n  return '/api';\n};\nconst API_BASE_URL = getApiBaseUrl();\nconsole.log('ðŸ”— API Base URL:', API_BASE_URL);\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 30000\n});\napi.interceptors.request.use(config => {\n  var _config$method;\n  console.log(`ðŸš€ ${(_config$method = config.method) === null || _config$method === void 0 ? void 0 : _config$method.toUpperCase()} ${config.url}`);\n  return config;\n}, error => {\n  console.error('âŒ Erro na requisiÃ§Ã£o:', error);\n  return Promise.reject(error);\n});\napi.interceptors.response.use(response => {\n  console.log(`âœ… ${response.status} ${response.config.url}`);\n  return response;\n}, error => {\n  var _error$config, _error$response;\n  console.error('âŒ Erro na resposta:', {\n    url: (_error$config = error.config) === null || _error$config === void 0 ? void 0 : _error$config.url,\n    status: (_error$response = error.response) === null || _error$response === void 0 ? void 0 : _error$response.status,\n    message: error.message\n  });\n  return Promise.reject(error);\n});\nexport const processInvoice = async file => {\n  const formData = new FormData();\n  formData.append('pdfFile', file);\n  const response = await api.post('/invoices/process', formData, {\n    headers: {\n      'Content-Type': 'multipart/form-data'\n    },\n    timeout: 60000\n  });\n  return response.data;\n};\nexport const getHistory = async () => {\n  const response = await api.get('/invoices/history');\n  return response.data;\n};\nexport const getHistoryDetail = async id => {\n  const response = await api.get(`/invoices/history/${id}`);\n  return response.data;\n};\nexport const deleteHistoryEntry = async id => {\n  const response = await api.delete(`/invoices/history/${id}`);\n  return response.data;\n};\nexport const healthCheck = async () => {\n  const response = await api.get('/health');\n  return response.data;\n};\n\n// Pessoas\nexport const listPessoas = async params => {\n  const response = await api.get('/pessoas', {\n    params\n  });\n  return response.data;\n};\nexport const createPessoa = async body => {\n  const response = await api.post('/pessoas', body);\n  return response.data;\n};\nexport const updatePessoa = async (id, body) => {\n  const response = await api.put(`/pessoas/${id}`, body);\n  return response.data;\n};\nexport const deletePessoa = async id => {\n  const response = await api.delete(`/pessoas/${id}`);\n  return response.data;\n};\n\n// Classificacao\nexport const listClassificacao = async params => {\n  const response = await api.get('/classificacao', {\n    params\n  });\n  return response.data;\n};\nexport const createClassificacao = async body => {\n  const response = await api.post('/classificacao', body);\n  return response.data;\n};\nexport const updateClassificacao = async (id, body) => {\n  const response = await api.put(`/classificacao/${id}`, body);\n  return response.data;\n};\nexport const deleteClassificacao = async id => {\n  const response = await api.delete(`/classificacao/${id}`);\n  return response.data;\n};\n\n// Agente3\nexport const agente3Consulta = async (pergunta, tipo = 'simples') => {\n  const response = await api.post('/agente3/consulta', {\n    pergunta,\n    tipo\n  });\n  return response.data;\n};\n\n// Contas / Movimentos\nexport const listMovimentos = async params => {\n  const response = await api.get('/contas/movimentos', {\n    params\n  });\n  return response.data;\n};\nexport const getMovimento = async id => {\n  const response = await api.get(`/contas/movimentos/${id}`);\n  return response.data;\n};\nexport const getParcelas = async id => {\n  const response = await api.get(`/contas/movimentos/${id}/parcelas`);\n  return response.data;\n};\nexport const updateMovimento = async (id, body) => {\n  const response = await api.put(`/contas/movimentos/${id}`, body);\n  return response.data;\n};\nexport const deleteMovimento = async id => {\n  const response = await api.delete(`/contas/movimentos/${id}`);\n  return response.data;\n};\nexport default api;","map":{"version":3,"names":["axios","getApiBaseUrl","process","env","REACT_APP_API_BASE","window","location","hostname","port","API_BASE_URL","console","log","api","create","baseURL","timeout","interceptors","request","use","config","_config$method","method","toUpperCase","url","error","Promise","reject","response","status","_error$config","_error$response","message","processInvoice","file","formData","FormData","append","post","headers","data","getHistory","get","getHistoryDetail","id","deleteHistoryEntry","delete","healthCheck","listPessoas","params","createPessoa","body","updatePessoa","put","deletePessoa","listClassificacao","createClassificacao","updateClassificacao","deleteClassificacao","agente3Consulta","pergunta","tipo","listMovimentos","getMovimento","getParcelas","updateMovimento","deleteMovimento"],"sources":["C:/Users/Luiz Eduardo/Documents/Projetos Pavan/AtividadeParaiba/pdf-processor/frontend/src/services/api.js"],"sourcesContent":["import axios from 'axios';\r\n\r\nconst getApiBaseUrl = () => {\r\n  if (process.env.REACT_APP_API_BASE) return process.env.REACT_APP_API_BASE;\r\n  if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {\r\n    // Se o frontend estiver em 3001, usar backend em 3002\r\n    if (window.location.port === '3001') return 'http://localhost:3002/api';\r\n    return 'http://localhost:3000/api';\r\n  }\r\n  return '/api';\r\n};\r\n\r\nconst API_BASE_URL = getApiBaseUrl();\r\n\r\nconsole.log('ðŸ”— API Base URL:', API_BASE_URL);\r\n\r\nconst api = axios.create({\r\n  baseURL: API_BASE_URL,\r\n  timeout: 30000,\r\n});\r\n\r\napi.interceptors.request.use(\r\n  (config) => {\r\n    console.log(`ðŸš€ ${config.method?.toUpperCase()} ${config.url}`);\r\n    return config;\r\n  },\r\n  (error) => {\r\n    console.error('âŒ Erro na requisiÃ§Ã£o:', error);\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\napi.interceptors.response.use(\r\n  (response) => {\r\n    console.log(`âœ… ${response.status} ${response.config.url}`);\r\n    return response;\r\n  },\r\n  (error) => {\r\n    console.error('âŒ Erro na resposta:', {\r\n      url: error.config?.url,\r\n      status: error.response?.status,\r\n      message: error.message\r\n    });\r\n    return Promise.reject(error);\r\n  }\r\n);\r\n\r\nexport const processInvoice = async (file) => {\r\n  const formData = new FormData();\r\n  formData.append('pdfFile', file);\r\n  \r\n  const response = await api.post('/invoices/process', formData, {\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data',\r\n    },\r\n    timeout: 60000,\r\n  });\r\n  return response.data;\r\n};\r\n\r\nexport const getHistory = async () => {\r\n  const response = await api.get('/invoices/history');\r\n  return response.data;\r\n};\r\n\r\nexport const getHistoryDetail = async (id) => {\r\n  const response = await api.get(`/invoices/history/${id}`);\r\n  return response.data;\r\n};\r\n\r\nexport const deleteHistoryEntry = async (id) => {\r\n  const response = await api.delete(`/invoices/history/${id}`);\r\n  return response.data;\r\n};\r\n\r\nexport const healthCheck = async () => {\r\n  const response = await api.get('/health');\r\n  return response.data;\r\n};\r\n\r\n// Pessoas\r\nexport const listPessoas = async (params) => {\r\n  const response = await api.get('/pessoas', { params });\r\n  return response.data;\r\n};\r\nexport const createPessoa = async (body) => {\r\n  const response = await api.post('/pessoas', body);\r\n  return response.data;\r\n};\r\nexport const updatePessoa = async (id, body) => {\r\n  const response = await api.put(`/pessoas/${id}`, body);\r\n  return response.data;\r\n};\r\nexport const deletePessoa = async (id) => {\r\n  const response = await api.delete(`/pessoas/${id}`);\r\n  return response.data;\r\n};\r\n\r\n// Classificacao\r\nexport const listClassificacao = async (params) => {\r\n  const response = await api.get('/classificacao', { params });\r\n  return response.data;\r\n};\r\nexport const createClassificacao = async (body) => {\r\n  const response = await api.post('/classificacao', body);\r\n  return response.data;\r\n};\r\nexport const updateClassificacao = async (id, body) => {\r\n  const response = await api.put(`/classificacao/${id}`, body);\r\n  return response.data;\r\n};\r\nexport const deleteClassificacao = async (id) => {\r\n  const response = await api.delete(`/classificacao/${id}`);\r\n  return response.data;\r\n};\r\n\r\n// Agente3\r\nexport const agente3Consulta = async (pergunta, tipo = 'simples') => {\r\n  const response = await api.post('/agente3/consulta', { pergunta, tipo });\r\n  return response.data;\r\n};\r\n\r\n// Contas / Movimentos\r\nexport const listMovimentos = async (params) => {\r\n  const response = await api.get('/contas/movimentos', { params });\r\n  return response.data;\r\n};\r\nexport const getMovimento = async (id) => {\r\n  const response = await api.get(`/contas/movimentos/${id}`);\r\n  return response.data;\r\n};\r\nexport const getParcelas = async (id) => {\r\n  const response = await api.get(`/contas/movimentos/${id}/parcelas`);\r\n  return response.data;\r\n};\r\nexport const updateMovimento = async (id, body) => {\r\n  const response = await api.put(`/contas/movimentos/${id}`, body);\r\n  return response.data;\r\n};\r\nexport const deleteMovimento = async (id) => {\r\n  const response = await api.delete(`/contas/movimentos/${id}`);\r\n  return response.data;\r\n};\r\n\r\nexport default api;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}